# テクノロジスペシャリスト採用 - Exam 3

## 3-1
CIDRは、クラスAやBといったクラスフルアドレスをサブネットマスクを用いて
更に細分化する方法のことです。対して、subnetは、細分化したネットワークの中で
更に分割した小さなネットワークのことです。
つまり、CIDRは、サブネットマスクを用いて、IPアドレスのネットワーク部
を指定すること。さらに、subnetを用いることで、そのネットワーク部のうち、
下N桁をサブネット部として指定することで、更に細かくネットワーク内で分割ができます。

## 3-2
+ RIP
+ OSPF

## 3-3
+ ps
+ top
+ pmap
+ pstree

## 3-4
+ /dev
    + デバイスファイル。ファイルシステム上でデバイスのインターフェースを扱うことが可能。
+ /var
    + ログやキャッシュなどのファイルが保存されている。再起動しても消去されない。"/var/log"や"var/www"などが存在する。
+ /proc
    + 各種プロセスのステータス情報などが格納されている。

## 3-5
クライアントと接続を確立してから切断するまでの通信において、同一ユーザからの
通信であることを把握するために、クライアント毎にセッションを張る。こうすることで、
ユーザ毎に静的（動的）ファイルを配信する際に、誤りなく配信が行える。

## 3-6
サーバ側でHTTPリクエストを正しく検証せずに処理している場合に発生する可能性がある。攻撃者は、ユーザを騙すなどして、ユーザが意図しないリクエストを送信させる。こうすることで、サーバ側は、ユーザが意図していないリクエストにも関わらず
処理を行ってしまい、データの漏洩や、コードの実行などが行われてしまう。
対策として、ユーザはブラウザ側にセッションを残さないように、ログアウトを徹底する。
サーバ側の対策としては、Cookieを用いて、リクエストが正しい意図のもと送信されたか否かを検証する方法がある。または、HTTPRefereを検証することで、正しいページ遷移が行われているかを判断する方法が存在する。

## 3-7
+ KVM
    + 完全仮想化を行うソフトウェア。ハイパーバイザとも呼ばれ、ハードウェア上で直接動き、その上でゲストOSを複数台稼働させることが出来ます。
    完全仮想化ソフトウェアなので、ゲストOSには特別な修正を行う必要が無い。
+ Xen
    + 準仮想化ソフトウェア（完全仮想化で動作するモードも存在）。KVMと同様にハイパーバイザの一種である。
    準仮想化ソフトウェアであるため、ゲストOSにハードウェアを使用するための改変が必要。一方で、ハードウェアエミュレーションのオーバヘッドが軽減されるため、
    完全仮想化に比べて、高速に動作する。
    
## 3-8
社内（オフィス）からの相談であると仮定する。
+ 物理適要因
    + ハブやPC本体とのLANケーブルが抜けている、壊れている。
    + 無線LANルータや有線LANをつなぐハブ等が故障
+ PCの設定要因
    + 社内で他のPCとIPアドレスが衝突している。
    + 社内DNSのアドレスが誤っている。
    + 社内から外部へ出るためにはプロキシAを通る必要があるが、ブラウザ等でプロキシを設定していない。
    + DNS設定の変更前キャッシュが残っている。
    + 使用しているブラウザが対応していないため。
    + ファイアウォールの設定が誤っている。
    + ウイルス対策ソフト等でフォルたリング設定がかかっている。
+ その他
    + 特定のWebページに対して、社内からアクセス出来ないようにフィルタリングしているため。
    + DNSサーバが落ちている。
    + Webサーバが落ちている。

## 3-9
```
#!/bin/sh

declare -a array1_Mathmatics=()
declare -a array1_Science=()
declare -a array1_English=()
declare -a array1_Japanese=()
declare -a array1_History=()
declare -a array1_Geography=()

declare -a array2_Mathmatics=()
declare -a array2_Science=()
declare -a array2_English=()
declare -a array2_Japanese=()
declare -a array2_History=()
declare -a array2_Geography=()

mean_Mathmatics=0
mean_Science=0
mean_English=0
mean_Japanese=0
mean_History=0
mean_Geography=0

median_Mathmatics=0
median_Science=0
median_English=0
median_Japanese=0
median_History=0
median_Geography=0

variance_Mathmatics=0
variance_Science=0
variance_English=0
variance_Japanese=0
variance_History=0
variance_Geography=0

count=0
idx_median=0

########################
# CSVを処理して各配列に格納
#echo "csv parse"
for line in `cat $1 | grep -v ^ID`
do
	tmp_Mathmatics=`echo ${line} | cut -d ',' -f 2`
	tmp_Science=`echo ${line} | cut -d ',' -f 3`
	tmp_English=`echo ${line} | cut -d ',' -f 4`
	tmp_Japanese=`echo ${line} | cut -d ',' -f 5`
	tmp_History=`echo ${line} | cut -d ',' -f 6`
	tmp_Geography=`echo ${line} | cut -d ',' -f 7`

	array1_Mathmatics+=($tmp_Mathmatics)
	array1_Science+=($tmp_Science)
	array1_English+=($tmp_English)
	array1_Japanese+=($tmp_Japanese)
	array1_History+=($tmp_History)
	array1_Geography+=($tmp_Geography)

	mean_Mathmatics=`expr $mean_Mathmatics \+ $tmp_Mathmatics`
	mean_Science=`expr $mean_Science \+ $tmp_Science`
	mean_English=`expr $mean_English \+ $tmp_English`
	mean_Japanese=`expr $mean_Japanese \+ $tmp_Japanese`
	mean_History=`expr $mean_History \+ $tmp_History`
	mean_Geography=`expr $mean_Geography \+ $tmp_Geography`
done

########################
# データの個数
#echo "count"
count=${#array1_Mathmatics[*]}
idx_median=`expr $count / 2`

########################
# sort
#echo "sort"
array2_Mathmatics=($(for x in "${array1_Mathmatics[@]}"; do echo "$x"; done|sort -n))
array2_Science=($(for x in "${array1_Science[@]}"; do echo "$x"; done|sort -n))
array2_English=($(for x in "${array1_English[@]}"; do echo "$x"; done|sort -n))
array2_Japanese=($(for x in "${array1_Japanese[@]}"; do echo "$x"; done|sort -n))
array2_History=($(for x in "${array1_History[@]}"; do echo "$x"; done|sort -n))
array2_Geography=($(for x in "${array1_Geography[@]}"; do echo "$x"; done|sort -n))

########################
# 平均値の計算
mean_Mathmatics=`echo "scale=3; $mean_Mathmatics / $count" | bc -l | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`
#mean_Mathmatics=`echo $mean_Mathmatics | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`

mean_Science=`echo "scale=3; $mean_Science / $count" | bc -l | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`
#mean_Science=`echo $mean_Science | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`

mean_English=`echo "scale=3; $mean_English / $count" | bc -l | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`
#mean_English=`echo $mean_English | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`

mean_English=`echo "scale=3; $mean_English / $count" | bc -l | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`
#mean_English=`echo $mean_English | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`

mean_History=`echo "scale=3; $mean_History / $count" | bc -l | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`
#mean_History=`echo $mean_History | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`

mean_Geography=`echo "scale=3; $mean_Geography / $count" | bc -l | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`
#mean_Geography=`echo $mean_Geography | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'`

########################
# 中央値の計算
#echo "median"
if [ `expr $count % 2` = 1 ]; then
	median_Mathmatics=${array2_Mathmatics[$idx_median]}
	median_Science=${array2_Science[$idx_median]}
	median_English=${array2_English[$idx_median]}
	median_Japanese=${array2_Japanese[$idx_median]}
	median_History=${array2_History[$idx_median]}
	median_Geography=${array2_Geography[$idx_median]}

else
	median_Geography=${array2_Geography[$idx_median]}
	median_Science=${array2_Science[$idx_median]}
	median_English=${array2_English[$idx_median]}
	median_Japanese=${array2_Japanese[$idx_median]}
	median_History=${array2_History[$idx_median]}
	median_Geography=${array2_Geography[$idx_median]}

	idx_median=`expr $idx_median \- 1`
	
	median_Mathmatics=`expr $median_Mathmatics \+ ${array2_Mathmatics[$idx_median]}`
	median_Science=`expr $median_Science \+ ${array2_Science[$idx_median]}`
	median_English=`expr $median_English \+ ${array2_English[$idx_median]}`
	median_Japanese=`expr $median_Japanese \+ ${array2_Japanese[$idx_median]}`
	median_History=`expr $median_History \+ ${array2_History[$idx_median]}`
	median_Geography=`expr $median_Geography \+ ${array2_Geography[$idx_median]}`

	median_Mathmatics=`echo "scale=1; $median_Mathmatics / 2" | bc`
	median_Science=`echo "scale=1; $median_Science / 2" | bc`
	median_English=`echo "scale=1; $median_English / 2" | bc`
	median_Japanese=`echo "scale=1; $median_Japanese / 2" | bc`
	median_History=`echo "scale=1; $median_History / 2" | bc`
	median_Geography=`echo "scale=1; $median_Geography / 2" | bc`
fi

########################
# 分散の計算
#echo "variance"
for num in ${array2_Mathmatics[@]}; do
	tmp_Mathmatics=`echo "scale=3; $num - $mean_Mathmatics" | bc`
	tmp_Mathmatics=`echo "scale=3; $tmp_Mathmatics * $tmp_Mathmatics" | bc`
	variance_Mathmatics=`echo "scale=3; $variance_Mathmatics + $tmp_Mathmatics" | bc`

	tmp_Science=`echo "scale=3; $num - $mean_Science" | bc`
	tmp_Science=`echo "scale=3; $tmp_Science * $tmp_Science" | bc`
	variance_Science=`echo "scale=3; $variance_Science + $tmp_Science" | bc`
	
	tmp_English=`echo "scale=3; $num - $mean_English" | bc`
	tmp_English=`echo "scale=3; $tmp_English * $tmp_English" | bc`
	variance_English=`echo "scale=3; $variance_English + $tmp_English" | bc`
	
	tmp_Japanese=`echo "scale=3; $num - $mean_Japanese" | bc`
	tmp_Japanese=`echo "scale=3; $tmp_Japanese * $tmp_Japanese" | bc`
	variance_Japanese=`echo "scale=3; $variance_Japanese + $tmp_Japanese" | bc`
	
	tmp_History=`echo "scale=3; $num - $mean_History" | bc`
	tmp_History=`echo "scale=3; $tmp_History * $tmp_History" | bc`
	variance_History=`echo "scale=3; $variance_History + $tmp_History" | bc`
	
	tmp_Geography=`echo "scale=3; $num - $mean_Geography" | bc`
	tmp_Geography=`echo "scale=3; $tmp_Geography * $tmp_Geography" | bc`
	variance_Geography=`echo "scale=3; $variance_Geography + $tmp_Geography" | bc`
done

variance_Mathmatics=`echo "scale=3; sqrt($variance_Mathmatics / $count)" | bc | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'` 
variance_Science=`echo "scale=3; sqrt($variance_Science / $count)" | bc | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'` 
variance_English=`echo "scale=3; sqrt($variance_English / $count)" | bc | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'` 
variance_History=`echo "scale=3; sqrt($variance_History / $count)" | bc | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'` 
variance_Geography=`echo "scale=3; sqrt($variance_Geography / $count)" | bc | awk '{s=($0<0)?-1:1;print int($0*s*100+0.5)/100/s;}'` 


########################
# 結果出力
echo "Subject,Mean,Median,Variance"
echo "Mathmatics,${mean_Mathmatics},${median_Mathmatics},${variance_Mathmatics}"
echo "Science,${mean_Science},${median_Science},${variance_Science}"
echo "English,${mean_English},${median_English},${variance_English}"
echo "Japanese,${mean_Japanese},${median_Japanese},${variance_Japanese}"
echo "History,${mean_History},${median_History},${variance_History}"
echo "Geography,${mean_Geography},${median_Geography},${variance_Geography}"
```

## 3-10
+ 開発物・成果物
    + 開発経験として「情報収集システム」を作成した。これは、大学院の講義でウォータフォールモデルに沿って仕様設計書やテストなども行いました。作成期間は約半年、言語は主にRubyを使用しました。
    本システムは、学科内でのアンケートや調査（卒論・修論の題目、卒業生の就職先、行事への出席調査など）を目的に作成しました。本システムはApache上でCGIが主に動作しているため、ブラウザを介して
    操作できます。ブラウザ上で調査人が調査内容（複数項目可能）、対象者、締め切り等を入力することで、調査が対象者へメール送信されます。対象者は、ブラウザ上で、回答を行います。調査人は回答をブラウザ上
    で確認でき、必要であればダウンロードも可能です。
+ 研究内容
    + 大学院での研究テーマは「Use-After-Free脆弱性攻撃の防止手法」です。Use-After-Free脆弱性は、オブジェクトが解放された際にメモリ管理が不適切であるために、オブジェクトを参照してい
    たポインタが使用可能なまま残り、悪用可能となる脆弱性です。これを利用することで、任意コードの実行が可能なCVEも報告されています。これに対処するため「メモリ再利用の一時禁止によるUse-After-Free脆弱性
    攻撃防止手法」を提案、評価しています。本手法は、オブジェクトの解放後に不正に残ったポインタの参照先のメモリ領域に、悪意のある攻撃者によってシェルコードを書き込まれないように、解放されたメモリ領域の再利用
    を遅らせて、書き込まれることを防止します。本手法は、LinuxとWindowsの両方で実現しています。Linuxにおける実現方法は、glibcにおけるfree関数を改変することで解放される処理を遅らせています。Windowsに
    おける実現方法は、WindowsAPIであるHeapFree関数をDLLインジェクションとIATフックによりフックすることで、解放処理を遅らせています。
## 3-11
